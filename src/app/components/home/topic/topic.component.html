<div class="forums-wrapper">
    <div>
        <a *ngIf="topic" class="single-forum-title" routerLink="/view/forum/{{forumId}}/viewtopic/{{topic._id}}">{{topic.subject}}</a>
    </div>

    <div *ngIf="!topic" class="loader-wrapper">
        <div class="loader"></div>
    </div>

    <div *ngIf="topic" class="post">
        <div class="post-profile">

            <div *ngIf="!user" class="loader-wrapper">
                <div class="loader small"></div>
            </div>

            <div *ngIf="user">

                <div class="avatar">
                    <img src="{{user[0].image}}" alt="image">
                </div>
                <div class="user"><a routerLink="#">{{topic.author}}</a></div>
                <div class="role"><span *ngIf="!user[0]._kmd.role">Member</span></div>
                <!-- <div class="role" *ngIf="authService.user().role">Admin</div> -->
                <div class="posts">Posts: <span>{{user[0].postsCount}}</span></div>
                <div class="joined">Joined: <span>{{user[0]._kmd.ect | date: 'yyyy-MM-dd HH:mm:ss' }}</span></div>
            </div>
        </div>
        <div class="post-content">
            <div class="post-top">
                <div class="post-title"><a routerLink="/view/forum/{{forumId}}/viewtopic/{{topic._id}}">{{topic.subject}}</a></div>
                <div class="post-options">
                    <a routerLink="/view/forum/{{forumId}}/edittopic/{{topic._id}}" *ngIf="authService.isLoggedIn()"><i class="fas fa-pencil-alt" *ngIf="topic.author === authService.user().username"></i></a>
                    <i class="fas fa-trash-alt"></i>
                </div>
            </div>
            <div class="meta"><i class="fas fa-file-alt"></i> by <a routerLink="#">{{topic.author}}</a> Â»
                {{topic._kmd.ect | date: 'yyyy-MM-dd HH:mm:ss'}}</div>
            <div class="post-description">{{topic.description}}</div>
        </div>
    </div>
</div>